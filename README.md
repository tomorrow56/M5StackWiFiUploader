# M5Stack WiFi File Uploader

[![Version](https://img.shields.io/badge/version-1.2.0-blue.svg)](https://github.com/tomorrow56/M5StackWiFiUploader)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Platform](https://img.shields.io/badge/platform-ESP32-lightgrey.svg)](https://www.espressif.com/en/products/socs/esp32)

**M5Stackã®SDã‚«ãƒ¼ãƒ‰ã«WiFiçµŒç”±ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã®é«˜æ©Ÿèƒ½Arduinoãƒ©ã‚¤ãƒ–ãƒ©ãƒª**

ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€M5Stackãƒ‡ãƒã‚¤ã‚¹ä¸Šã§HTTP/WebSocketã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã€ãƒ–ãƒ©ã‚¦ã‚¶çµŒç”±ã§å†™çœŸã€ãƒã‚¤ãƒŠãƒªã€ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãªã©ã‚’SDã‚«ãƒ¼ãƒ‰ã«ç›´æ¥ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚è©³ç´°ãªãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºã€è‡ªå‹•å†è©¦è¡Œã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãªã©ã€å …ç‰¢ãªãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®é«˜åº¦ãªæ©Ÿèƒ½ã‚’å‚™ãˆã¦ã„ã¾ã™ã€‚

[English Version](README_EN.md)

## âœ¨ ä¸»ãªç‰¹å¾´

- **ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ—ãƒ­ãƒˆã‚³ãƒ«å¯¾å¿œ**: é«˜é€ŸãªWebSocketã¨äº’æ›æ€§ã®é«˜ã„HTTPã®ä¸¡æ–¹ã‚’ã‚µãƒãƒ¼ãƒˆã€‚
- **å …ç‰¢ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: 14ç¨®é¡ã®ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã¨è‡ªå‹•å†è©¦è¡Œæ©Ÿèƒ½ï¼ˆæŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•å¯¾å¿œï¼‰ã€‚
- **è©³ç´°ãªãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤º**: è»¢é€é€Ÿåº¦ã€æ®‹ã‚Šæ™‚é–“ã€å…¨ä½“é€²æ—ãªã©ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è¿½è·¡ã€‚
- **ãƒ¢ãƒ€ãƒ³ãªWeb UI**: ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—å¯¾å¿œã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãªWebã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€‚
- **æŸ”è»Ÿãªè¨­å®š**: ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã€æ‹¡å¼µå­ã€åŒæ™‚ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ•°ãªã©ã‚’è‡ªç”±ã«è¨­å®šå¯èƒ½ã€‚
- **è±Šå¯Œãªã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯**: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®å„æ®µéšï¼ˆé–‹å§‹ã€é€²æ—ã€å®Œäº†ã€ã‚¨ãƒ©ãƒ¼ï¼‰ã§ã‚«ã‚¹ã‚¿ãƒ å‡¦ç†ã‚’å®Ÿè¡Œå¯èƒ½ã€‚
- **æ“ä½œã®åˆ¶å¾¡**: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®ä¸€æ™‚åœæ­¢ã€å†é–‹ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãŒå¯èƒ½ã€‚
- **è»½é‡è¨­è¨ˆ**: ESP32ã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä¸­å¿ƒã«æ§‹æˆã•ã‚Œã€å¤–éƒ¨ä¾å­˜ã‚’æœ€å°é™ã«æŠ‘åˆ¶ã€‚

## ğŸ› ï¸ å¯¾å¿œãƒ¢ãƒ‡ãƒ«

- M5Stack Core
- M5Stack Core2
- M5Stack CoreS3

## ğŸ“š ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

- `WiFi`, `WebServer`, `FS`, `SD` (ESP32ã‚³ã‚¢ã«å†…è”µ)
- `WebSocketsServer` (æœ¬ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åŒæ¢±)
- `ArduinoJson` (æœ¬ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åŒæ¢±)

## ğŸš€ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1.  ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã‹ã‚‰æœ€æ–°ç‰ˆã® `M5StackWiFiUploader.zip` ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚
2.  Arduino IDEã§ `ã‚¹ã‚±ãƒƒãƒ` -> `ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¯ãƒ«ãƒ¼ãƒ‰` -> `.ZIPå½¢å¼ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«` ã‚’é¸æŠã—ã¾ã™ã€‚
3.  ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸZIPãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

## ğŸ’¡ ä½¿ã„æ–¹

åŸºæœ¬çš„ãªä½¿ã„æ–¹ã¯ `examples/FullFeaturedDemo/FullFeaturedDemo.ino` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

```cpp
#include <M5Stack.h>
#include <WiFi.h>
#include "M5StackWiFiUploader.h"

const char* WIFI_SSID = "your_ssid";
const char* WIFI_PASSWORD = "your_password";

M5StackWiFiUploader uploader;

void setup() {
    M5.begin();
    WiFi.begin(WIFI_SSID, WIFI_PASSWORD);
    while (WiFi.status() != WL_CONNECTED) { delay(500); }

    // WebSocketã‚’æœ‰åŠ¹åŒ–
    uploader.enableWebSocket(true);

    // ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ€ãƒ¼ã‚’é–‹å§‹
    uploader.begin();

    // ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­å®š
    uploader.onUploadComplete([](const char* filename, uint32_t size, bool success) {
        if (success) {
            Serial.printf("Upload complete: %s\n", filename);
        }
    });
}

void loop() {
    uploader.handleClient();
}
```

## ğŸ“– ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **[APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](docs/API_REFERENCE_v1.1.md)**: å…¨ã‚¯ãƒ©ã‚¹ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰ã®è©³ç´°ãªä»•æ§˜ã€‚
- **[ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰](docs/TROUBLESHOOTING.md)**: ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–ã€‚

## ğŸ¤ è²¢çŒ®

ãƒã‚°å ±å‘Šã‚„æ©Ÿèƒ½ææ¡ˆã¯ [GitHub Issues](https://github.com/tomorrow56/M5StackWiFiUploader/issues) ã¾ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚‚æ­“è¿ã—ã¾ã™ã€‚

## ğŸ“œ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ **MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹** ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚è©³ç´°ã¯ `LICENSE` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
